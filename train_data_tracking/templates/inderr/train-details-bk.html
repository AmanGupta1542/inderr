
{% extends "inderr/base.html" %}
{% load static %}

{% block content %}

<style>
    /* .running-status-cntr .status-list-cntr .status-row .timeline .vertical-line::before {
        background: #EC5B24;
        width: 12px;
        bottom: 0;
        position: absolute;
        content: " ";
        height: 78px;
        left: 0;
    }
    .running-status-cntr .status-list-cntr .status-row.first-non-can-stn .timeline .vertical-line, .running-status-cntr .status-list-cntr .status-row.first-stn-can .timeline .vertical-line, .running-status-cntr .status-list-cntr .status-row:first-child .timeline .vertical-line {
        height: 78px;
        top: 21px;
        border-top-left-radius: 6px;
        border-top-right-radius: 6px;
    } */
</style>

<div class="container-xxl flex-grow-1 container-p-y">
    <div class="row" style="background-color: white;">
        <div class="col-lg-12 my-4">
            <h3 class="my-3">{{ train.number }} | {{ train.name }}</h3>
            <div>
                <span class="text-info">Running Days : </span> &nbsp;
                {% if train.monday == 1 %} <span>Mon</span> {% else %} <span class="text-muted">Mon</span> {% endif %} &nbsp;
                {% if train.tuesday == 1 %} <span>Tue</span> {% else %} <span class="text-muted">Tue</span> {% endif %} &nbsp;
                {% if train.wednesday == 1 %} <span>Wed</span> {% else %} <span class="text-muted">Wed</span> {% endif %} &nbsp;
                {% if train.thursday == 1 %} <span>Thu</span> {% else %} <span class="text-muted">Thu</span> {% endif %} &nbsp;
                {% if train.friday == 1 %} <span>Fri</span> {% else %} <span class="text-muted">Fri</span> {% endif %} &nbsp;
                {% if train.saturday == 1 %} <span>Sat</span> {% else %} <span class="text-muted">Sat</span> {% endif %} &nbsp;
                {% if train.sunday == 1 %} <span>Sun</span> {% else %} <span class="text-muted">Sun</span> {% endif %} &nbsp;
            </div>
        </div>
        <div class="col-lg-12 mb-4 running-status-cntr">
            {% for item in object_list %}
                <!-- <div class="item">
                    {{ item.station_id.name }} - {{item.station_id.code}}
                </div> -->
            {% endfor %}

            <table class="table table-bordered table-hover table-striped status-list-cntr">
                <thead class="header-cntr">
                    <tr>
                        <!-- <th scope="col">SN</th> -->
                        <th scope="col"></th>
                        <th scope="col">Station</th>
                        <th scope="col">Arrives</th>
                        <th scope="col">Departs</th>
                    </tr>
                </thead>
                <tbody class="running-status-rows">
                    {% for item in object_list %}
                        <tr id="{{ item.station_id.name }}" data-station="{{ item.station_id.name }}" class="status-row " >
                            <!-- <td scope="row">{{ forloop.counter }}</td> -->
                            <td scope="row" class="timeline" valign="top">
                                <div class="vertical-line ">
                                    <div class="stn-pointer"></div>
                                    <div class="curr-stn-pointer"></div>
                                </div>
                            </td>
                            <td>{{ item.station_id.name }} - {{item.station_id.code}}</td>
                            <td>{% if item.arrives %} {{ item.arrives }} {% else %} <span class="text-primary">Start</span> {% endif %}</td>
                            <td>{% if item.departs %} {{ item.departs }} {% else %} <span class="text-danger">End</span> {% endif %}</td>
                        </tr>
                        <!-- static tr start -->
                        <!-- <tr>
                            <td scope="row" class="timeline" valign="top">
                                <div class="vertical-line ">
                                    <div class="stn-pointer"></div>
                                    <div class="curr-stn-pointer"></div>
                                </div>
                            </td>
                            <td>station 1</td>
                            <td>--</td>
                            <td>--</td>
                        
                        </tr>
                        <tr>
                            <td scope="row" class="timeline" valign="top">
                                <div class="vertical-line ">
                                    <div class="stn-pointer"></div>
                                    <div class="curr-stn-pointer"></div>
                                </div>
                            </td>
                            <td>station 2</td>
                            <td>--</td>
                            <td>--</td>
                        
                        </tr> -->
                        <!-- static tr end -->
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <!-- <div class="col-lg-12 mb-4">
            <div class="range-slider">
                <label for="tempB">Choose a comfortable temperature:</label><br />
                <input type="range" list="values" class="range-input" min="0" max="5" step="0.5" id="tempB" name="temp" >
                <datalist id="values">
                    <option value="0" label="very cold!"></option>
                    <option value="25" label="cool"></option>
                    <option value="50" label="medium"></option>
                    <option value="75" label="getting warm!"></option>
                    <option value="100" label="hot!"></option>
                </datalist>
            </div>
        </div> -->
        <!-- <div class="col-lg-12 mb-4">
            <div class="stepper d-flex flex-column mt-5 ml-2">
                <div class="d-flex mb-1">
                  <div class="d-flex flex-column pr-4 align-items-center">
                    <div class="rounded-circle py-2 px-3 bg-primary text-white mb-1">1</div>
                    <div class="line h-100"></div>
                  </div>
                  <div>
                    <h5 class="text-dark">Create your application respository</h5>
                    <p class="lead text-muted pb-3">Choose your website name & create repository</p>
                  </div>
                </div>
                <div class="d-flex mb-1">
                  <div class="d-flex flex-column pr-4 align-items-center">
                    <div class="rounded-circle py-2 px-3 bg-primary text-white mb-1">2</div>
                    <div class="line h-100"></div>
                  </div>
                  <div>
                    <h5 class="text-dark">Clone application respository</h5>
                    <p class="lead text-muted pb-3">Go to your dashboard and clone Git respository from the url in the dashboard of your application</p>
                    <div class="step-content grey lighten-3">
                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Esse cupiditate voluptate facere
                        iusto
                        quaerat
                        vitae excepturi, accusantium ut aliquam repellat atque nesciunt nostrum similique. Inventore
                        nostrum
                        ut,
                        nobis porro sapiente.</p>
                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolore error excepturi veniam nemo
                        repellendus, distinctio soluta vitae at sit saepe. Optio eaque quia excepturi adipisci pariatur
                        totam,
                        atque odit fugiat.</p>
                        <p>Deserunt voluptatem illum quae nisi soluta eum perferendis nesciunt asperiores tempore saepe
                        reiciendis,
                        vero quod a dolor corporis natus qui magni quas fuga rem excepturi laboriosam. Quisquam
                        expedita ab
                        fugiat.</p>
                    </div>
                </div>
                </div>
                <div class="d-flex mb-1">
                  <div class="d-flex flex-column pr-4 align-items-center">
                    <div class="rounded-circle py-2 px-3 bg-primary text-white mb-1">3</div>
                    <div class="line h-100 d-none"></div>
                  </div>
                  <div>
                    <h5 class="text-dark">Make changes and push!</h5>
                    <p class="lead text-muted pb-3">Now make changes to your application source code, test it then commit &amp; push</p>
                  </div>
                </div>
            </div>
        </div> -->
        
    </div>
</div>

{% endblock %}

<!-- https://community.glideapps.com/t/vertical-progress-bar-css-tricks/42977
https://mdbootstrap.com/docs/b4/jquery/components/stepper/
https://www.avonnicomponents.com/components/vertical-progress-indicator/
https://dev.to/konnorrogers/creating-a-vertical-slider-using-input-typerange-1pen
https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/range
https://www.ixigo.com/trains/20171/running-status -----
https://themeselection.com/javascript-timeline-library/
https://www.npmjs.com/package/labella
https://twitter.github.io/labella.js/
-->

{% block script %}

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>

// f = document.getElementById('Rani Kamalapati')
// f.nextElementSibling.children[1].textContent.split('-')[0].trim()

$stations_arr = [
    {
        'name': "one",
        'arrives': "",
        'departs': ""
    },
    {
        'name': "two",
        'arrives': "",
        'departs': ""
    }
];

$(document).ready(function(){
    var rowIdx = 0;

    $('tr').click(function() {
        // console.log($(event))
        let data = $(this).next().children().eq(1).text().split("-")[0].trim();
        data = data.replace("Jn", "junction");
        // console.log(data)
        var msg = new SpeechSynthesisUtterance();
        msg.text = "Next station is "+data;
        window.speechSynthesis.speak(msg);
    });

});



</script>

{% endblock %}